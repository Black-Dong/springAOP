## spring中基于xml的aop配置

### bean配置
   1. 把通知Bean也交给spring来管理  (事务管理器也属于通知类)  
        1.1 若使用spring的事务管理,需要再配置  
```xml
    <tx:advice id="" transaction-manager="">
        <tx:attributes>
        <!--
        isolation=""    指定事务隔离级别
        propagation=""  指定事务传播行为.默认值时required,查询可以选中supports
        read-only=""    指定是否只读,只有查询可以设置true,默认值false
        timeout=""      事务超时时间,默认值-1,永不超时.以秒为单位
        rollback-for=""     用于指定一个异常,当产生该异常时,事务回滚,产生其他异常,不回滚.无默认值:任何异常都回滚
        no-rollback-for=""  用于指定一个异常,当产生该异常时,事务不回滚,产生其他异常,回滚.无默认值:任何异常都回滚
        -->
            <tx:method name="业务层具体的某个方法" ></tx:method>
        </tx:attributes>
    </tx:advice>
```
### aop配置
   1. 使用aop:config标签表面开始aop的配置  
   若是使用spring的事务管理需使用   `<aop:advisor advice-ref="" pointcut-ref=""></aop:advisor>`将事务通知与切入点表达式建立对应关系
   
   2. 使用aop:aspect表面配置切面  
        2.1 `id` : 给前面提供唯一标识  
        2.2 `ref` : 通知类的id,    (若是自定义事务管理器,可以将器id写在这)
   3. 在aop:aspect内部使用对应标签配置通知类型  
        3.1 类型:前置通知,后置通知,异常通知,最终通知,环绕通知(在环绕通知中有明确的切入点方法调用))  
        3.2 pointcut属性:用于指定切入点表达式,该方法表示对业务层中哪些方法进行增强

   * 切入点表达式:  
        * 关键字:execution(表达式)  
        
        * 表达式:  
        
           > 标准表达式 : 访问修饰符 返回值 包名.包名.包名...类名.方法名(参数列表)  
           >> 访问修饰符可以省略 : 返回值 包名.包名.包名...类名.方法名(参数列表)
           >>> 返回值可以使用通配符,表示任意返回值 : * 包名.包名.包名...类名.方法名(参数列表)
           >>>> 包名可以使用通配符,表示任意包名.但是有几个包,就需要写几个 *.  
           包名还可以再升级: 可以使用 .. 表示当前包及其子包 : * *..类名.方法名(参数列表)
           >>>>> 类名和方法名都可以使用通配符 : * \*..\*.*(参数列表)
           >>>>>> 参数可以直接写数据类型(int / java.lang.String)  
           也可使用统配符表示任意参数,但必须要有参数  
           也可以使用 .. 有无参数均可 : * \*..\*.*(..) 即全通配
        
        * 通常使用的统配方式为对业务层实现类的方法进行统配 : * cn.imust.service.impl.\*.\*(..)
          
## spring中基于注解的的aop配置(在Logger.java中看注解, 和bean-anno.xml)

### springAOP的注解开发中需要注意其 `后置通知(或异常通知)比最终通知后执行`  所以若想使用请使用环绕通知